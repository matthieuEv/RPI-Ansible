# Copy this file to secrets.yml and fill in the values
# cp secrets.yml.example secrets.yml

# === General configuration ===
timezone: Europe/Paris

# Directory where Docker compose files (Portainer, Nginx Proxy Manager) are stored
docker_setups_dir: "/home/{{ ansible_user }}/docker-setups"

# === SSH configuration ===
ssh_port: 22
ssh_allow_password_auth: false

# Public SSH key for remote access
# Generate with: ssh-keygen -t ed25519 -C "your-email@example.com"
ssh_authorized_key: "ssh-ed25519 AAAA... your-email@example.com"

# === WireGuard configuration ===
wireguard:
  server_ip: "10.8.0.1/24"
  listen_port: 51820
  interface: wg0
  external_interface: eth0

wireguard_peers:
  - name: device-1
    public_key: "PUBLIC_KEY_HERE"
    allowed_ips: "10.8.0.2/32"
  # - name: device-2
  #   public_key: "PUBLIC_KEY_HERE"
  #   allowed_ips: "10.8.0.3/32"

# === Split DNS configuration ===
# Your base domain
base_domain: "example.fr"

# Private subdomains that should only be accessible via WireGuard VPN
# These will resolve to the WireGuard server IP when connected to the VPN
private_domains:
  - name: "Portainer"
    subdomain: "portainer"
    base_domain: "{{ base_domain }}"
  - name: "Nginx Proxy Manager"
    subdomain: "nginx"
    base_domain: "{{ base_domain }}"
  # Add more private subdomains as needed:
  # - name: "Pocketbase"
  #   subdomain: "pocketbase"
  #   base_domain: "{{ base_domain }}"

# WireGuard network for Nginx Proxy Manager Access List
# This is the network range that will be allowed to access private services
wireguard_network: "10.8.0.0/24"
